# DouKeeper プロジェクト進め方

## 📋 プロジェクト概要

DouKeeper（同人頒布物管理アプリ）の開発を段階的に進めるためのロードマップです。

## 🎯 開発フェーズ

### Phase 1: 基盤構築（1-2週間）

**目的**: 開発環境の整備とAWS基盤の構築

#### 1.1 開発環境セットアップ

- [x] AWSアカウントの準備
- [x] AWS Amplifyプロジェクトの作成
- [x] ローカル開発環境の確認
- [x] 必要なAWSサービスの設定（Amplify/Cognito/API/DynamoDB初期リソース整備完了）

#### 1.2 認証基盤の構築

- [x] AWS Cognito User Poolの設定
- [x] 認証フローの実装（サインアップ、サインイン、サインアウト）
- [ ] 認証状態の管理（Zustandストア）
- [x] 認証ガードの実装

#### 1.3 データベース設計

- [ ] DynamoDBテーブル設計
  - [ ] Usersテーブル
  - [x] Worksテーブル
  - [x] DistributionRecordsテーブル
- [ ] データアクセス層の実装

### Phase 2: コア機能開発（2-3週間）

**目的**: MVPの主要機能を実装

#### 2.1 作品管理機能

- [x] 作品登録フォーム
- [x] 作品一覧表示
- [x] 作品編集・削除機能
- [x] 初期在庫数の設定

#### 2.2 頒布記録機能

- [x] 頒布記録の登録（ワンタップ減算）
- [x] 手動入力での頒布記録
- [x] 頒布履歴の表示
- [x] メモ機能の実装

#### 2.3 在庫管理機能

- [x] 現在在庫数の表示
- [x] 在庫不足アラート
- [x] 在庫補充機能

### Phase 3: UI/UX改善（1-2週間）

**目的**: ユーザビリティの向上

#### 3.1 レスポンシブデザイン

- [ ] モバイルファーストデザインの実装
- [ ] タブレット・デスクトップ対応
- [ ] タッチ操作の最適化

#### 3.2 ユーザーエクスペリエンス

- [ ] ローディング状態の表示
- [ ] エラーハンドリング
- [ ] 成功・失敗のフィードバック
- [ ] オフライン対応の検討

### Phase 4: テスト・デプロイ（1週間）

**目的**: 本番環境へのリリース

#### 4.1 テスト

- [ ] 単体テストの実装
- [ ] 統合テストの実装
- [ ] ユーザーテストの実施
- [ ] パフォーマンステスト

#### 4.2 デプロイ・リリース

- [ ] 本番環境へのデプロイ
- [ ] ドメイン設定
- [ ] SSL証明書の設定
- [ ] 監視とログ設定

## 🛠 技術的な実装ステップ

### 1. 認証システム

```
Cognito設定 → 認証コンポーネント → 認証ストア → ルートガード
```

### 2. データ層

```
DynamoDB設計 → API層 → データストア → 型定義
```

### 3. UI層

```
Atomic Design → 基本コンポーネント → ページコンポーネント → ルーティング
```

### 4. ビジネスロジック

```
作品管理 → 頒布記録 → 在庫管理 → 集計機能
```

## 📁 ディレクトリ構造の拡張

```
src/
├── app/                    # Next.js App Router
├── components/             # Atomic Design
│   ├── atoms/              # 基本コンポーネント
│   ├── molecules/          # 複合コンポーネント
│   ├── organisms/          # 機能単位コンポーネント
│   └── templates/          # ページテンプレート
├── lib/                    # 外部ライブラリ設定
│   ├── aws/                # AWS設定
│   ├── auth/               # 認証関連
│   └── db/                 # データベース関連
├── hooks/                  # カスタムフック
├── store/                  # Zustandストア
├── types/                  # TypeScript型定義
├── utils/                  # ユーティリティ関数
└── constants/              # 定数定義
```

## 🔧 開発ツール・設定

### 必須パッケージ

```bash
# AWS関連
npm install aws-amplify @aws-amplify/ui-react

# UI関連
npm install @headlessui/react @heroicons/react

# 状態管理
npm install zustand

# フォーム管理
npm install react-hook-form @hookform/resolvers zod

# 日付操作
npm install date-fns

# テスト
npm install -D @testing-library/react @testing-library/jest-dom jest
```

### 環境変数

```env
NEXT_PUBLIC_AWS_REGION=ap-northeast-1
NEXT_PUBLIC_USER_POOL_ID=your_user_pool_id
NEXT_PUBLIC_USER_POOL_CLIENT_ID=your_client_id
NEXT_PUBLIC_IDENTITY_POOL_ID=your_identity_pool_id
```

## 📊 進捗管理

### 週次レビュー

- 完了したタスクの確認
- 次の週のタスク計画
- 技術的な課題の共有
- テスト・レビュー実施

### 品質チェックポイント

- コードレビュー
- テストカバレッジの確認
- パフォーマンス測定
- セキュリティチェック

## 🚀 次のステップ

1. **AWSアカウントの準備**
2. **Amplifyプロジェクトの作成**
3. **Cognito User Poolの設定**
4. **DynamoDBテーブルの設計・作成**
5. **認証フローの実装**

## 📝 注意事項

- セキュリティを最優先に考慮
- ユーザビリティを重視した設計
- モバイルファーストでの開発
- 段階的な機能追加
- 定期的なテスト・レビュー

---

**最終更新**: 2025年9月
**バージョン**: 1.0
